(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3b75":function(t,e,n){},"4Brf":function(t,e,n){"use strict";var i=n("I+eb"),s=n("g6v/"),o=n("2oRo"),r=n("UTVS"),a=n("hh1v"),c=n("m/L8").f,l=n("6JNq"),u=o.Symbol;if(s&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},f=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof f?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};l(f,u);var m=f.prototype=u.prototype;m.constructor=f;var p=m.toString,g="Symbol(test)"==String(u("test")),h=/^Symbol\((.*)\)[^)]+$/;c(m,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=p.call(t);if(r(d,t))return"";var n=g?e.slice(7,-1):e.replace(h,"$1");return""===n?void 0:n}}),i({global:!0,forced:!0},{Symbol:f})}},"4bGK":function(t,e,n){},"502U":function(t,e,n){"use strict";var i=n("vDqi"),s=n.n(i);e.a=s.a.create({baseURL:"https://aurelion.pl/"})},"52k5":function(t,e,n){"use strict";n("4bGK")},"5Tg+":function(t,e,n){var i=n("tiKp");e.f=i},"BX/b":function(t,e,n){var i=n("/GqU"),s=n("JBy8").f,o={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return r&&"[object Window]"==o.call(t)?function(t){try{return s(t)}catch(t){return r.slice()}}(t):s(i(t))}},GHwO:function(t,e,n){},HbNt:function(t,e,n){"use strict";n("MPC5")},JTJg:function(t,e,n){"use strict";var i=n("I+eb"),s=n("WjRb"),o=n("HYAF");i({target:"String",proto:!0,forced:!n("qxPZ")("includes")},{includes:function(t){return!!~String(o(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},MPC5:function(t,e,n){},NwkG:function(t,e,n){"use strict";n.r(e);n("R5XZ"),n("rNhl"),n("UxlC"),n("rB9j"),n("07d7"),n("RDyj"),n("Rm1S"),n("mRH6"),n("DQNa");var i={props:["comments"],computed:{date:function(){return function(t){return new Date(t.date).toLocaleString()}}}},s=(n("iYcz"),n("KHd+")),o=Object(s.a)(i,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"comments"},t._l(t.comments,(function(e){return n("li",{key:e.id,staticClass:"comment"},[n("span",{staticClass:"creator"},[t._v(t._s(e.creator)+" ")]),n("span",{staticClass:"date"},[t._v("("+t._s(t.date(e))+")")]),n("div",[t._v(t._s(e.text))])])})),0)}),[],!1,null,"6fb2e71c",null).exports,r=n("502U");function a(){return new Promise((function(t){grecaptcha.ready((function(){grecaptcha.execute("6LcZEvsUAAAAACNBgqqYduHvBQuR0lAckj0z54yJ",{action:"submit"}).then((function(e){t(e)}))}))}))}var c={props:["songId","yourName"],data:function(){return{text:"",isLoading:!1}},methods:{onSubmit:function(t){var e=this;this.isLoading||(this.isLoading=!0,a().then((function(t){return r.a.post("/comments",{songId:e.songId,text:e.text,creator:e.$store.state.yourName,token:t})})).then((function(t){e.$emit("comment",t.data)})).finally((function(){e.isLoading=!1,e.text=""})))}}},l=(n("f+rP"),Object(s.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("label",[n("div",{staticClass:"visually-hidden"},[t._v("Your comment:")]),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],staticClass:"input input--textarea",attrs:{cols:"30",rows:"1",placeholder:"Write a comment...",required:"",min:"3"},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("label",[n("div",{staticClass:"visually-hidden"},[t._v("Your name:")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.$store.state.yourName,expression:"$store.state.yourName",modifiers:{trim:!0}}],staticClass:"input input--text",attrs:{type:"text",placeholder:"Your name",required:"",min:"3"},domProps:{value:t.$store.state.yourName},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"yourName",e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}})]),n("button",{staticClass:"music-challenge-btn btn",attrs:{type:"submit",disabled:t.isLoading}},[t._v("\n    Add comment\n  ")])])}),[],!1,null,"25fb4080",null).exports),u=(n("yq1k"),n("JTJg"),n("ma9I"),{props:["song"],data:function(){return{isLikesLoading:!1,isLiked:JSON.parse(localStorage.getItem("likedSongs")).includes(this.song.id)}},computed:{displayLikes:function(){var t=1===this.song.likes?"person likes":"people like";return this.song.likes?"".concat(this.song.likes," ").concat(t," this"):"No one has liked this yet!"}},methods:{likeSong:function(){var t=this;if(!this.isLikesLoading){this.isLikesLoading=!0;var e=JSON.parse(localStorage.getItem("likedSongs"));e.includes(this.song.id)||(e.push(this.song.id),localStorage.setItem("likedSongs",JSON.stringify(e)),this.isLiked=!0,a().then((function(e){return r.a.post("/likes",{songId:t.song.id,token:e})})).then((function(e){var n=e.data.likes;t.song.likes=n})).finally((function(){t.isLikesLoading=!1})))}}}}),d=(n("O7CI"),{props:["song"],components:{Comments:o,AddComment:l,Like:Object(s.a)(u,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"like-wrap"},[e("span",{staticClass:"display-likes"},[this._v("\n    "+this._s(this.displayLikes)+"\n  ")]),e("button",{staticClass:"music-challenge-btn like",on:{click:this.likeSong}},[e("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[e("path",{attrs:{d:"M12 4.435c-1.989-5.399-12-4.597-12 3.568 0 4.068 3.06 9.481 12 14.997 8.94-5.516 12-10.929 12-14.997 0-8.118-10-8.999-12-3.568z"}})]),e("span",{staticClass:"like-text"},[this._v("\n    "+this._s(this.isLiked?"Liked!":"Like")+"\n  ")])])])}),[],!1,null,"a6c9d952",null).exports},data:function(){return{showIframe:!1}},computed:{videoId:function(){return(this.song.link.match(/v=([^&|$|#]+)/)||[])[1]||(this.song.link.match(/https\:\/\/youtu\.be\/(.*)/)||[])[1]},date:function(){return new Date(this.song.date).toLocaleString()}},methods:{onComment:function(t){this.song.comments.push(t)}}}),f=(n("52k5"),Object(s.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"song"},[n("h3",{staticClass:"title"},[t._v(t._s(t.song.title))]),n("div",{staticClass:"name"},[t._v("Sender: "),n("b",[t._v(t._s(t.song.creator))]),t._v(" ("+t._s(t.date)+")")]),n("p",{staticClass:"description"},[t._v(t._s(t.song.description))]),n("Like",{attrs:{song:t.song}}),t.videoId?n("iframe",{staticClass:"video",attrs:{src:"https://www.youtube.com/embed/"+t.videoId,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):t._e(),n("Comments",{attrs:{comments:t.song.comments}}),n("AddComment",{attrs:{songId:t.song.id},on:{comment:t.onComment}})],1)}),[],!1,null,"6901e51d",null).exports),m=(n("pNMO"),n("4Brf"),{data:function(){return{isLoading:!1,title:"",description:"",link:"",isSent:!1}},methods:{onSubmit:function(){var t=this;this.isLoading||(this.isLoading=!0,a().then((function(e){return r.a.post("/songs",{title:t.title,link:t.link,description:t.description,creator:t.$store.state.yourName,day:t.$route.query.nr,token:e})})).then((function(e){var n=e.data;t.$emit("songAdded",n),t.isSent=!0})).finally((function(){t.isLoading=!1,t.title="",t.link="",t.description=""})))}}}),p=(n("HbNt"),Object(s.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("form",{staticClass:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("label",{staticClass:"label"},[t._v("\n      Song title:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"input",attrs:{type:"text",required:"",min:"3",placeholder:"Enter song's title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}}),n("br")]),n("label",{staticClass:"label"},[t._v("\n      YouTube link to song:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.link,expression:"link"}],staticClass:"input",attrs:{type:"url",placeholder:"Add a YouTube link to your song"},domProps:{value:t.link},on:{input:function(e){e.target.composing||(t.link=e.target.value)}}}),n("br")]),n("label",{staticClass:"label"},[t._v("\n      Why did you choose this song?\n      "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"input ",attrs:{cols:"40",rows:"5",placeholder:"Provide a short explanation"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}}),n("br")]),n("label",{staticClass:"label"},[t._v("\n      Your name:\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.yourName,expression:"$store.state.yourName"}],staticClass:"input",attrs:{type:"text",required:"",min:"3",placeholder:"Your name"},domProps:{value:t.$store.state.yourName},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"yourName",e.target.value)}}}),n("br")]),t._m(0)]),n("div",{staticClass:"status"},[t.isLoading?n("div",[t._v("\n      Sending...\n    ")]):t.isSent?n("div",[t._v("\n      Thank you for submitting your song for today's challenge! If you wish, you may\n      submit one more. Otherwise, feel free to browse and interact with other entries.\n    ")]):t._e()])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-wrap"},[e("button",{staticClass:"music-challenge-btn",attrs:{type:"submit"}},[this._v("\n        Send your song\n      ")])])}],!1,null,"5553622a",null).exports),g={metaInfo:{script:[{src:"https://www.google.com/recaptcha/api.js?render=".concat("6LcZEvsUAAAAACNBgqqYduHvBQuR0lAckj0z54yJ")}],title:"Music Challenge - Nowicki Lab",titleTemplate:"%s"},components:{Song:f,AddSong:p},data:function(){return{isLoading:!0,title:"",day:null}},computed:{prevLink:function(){return"/music-challenge/day?nr=".concat(this.$route.query.nr-1)},nextLink:function(){return"/music-challenge/day?nr=".concat(+this.$route.query.nr+1)}},mounted:function(){var t=this;localStorage.getItem("likedSongs")||localStorage.setItem("likedSongs",JSON.stringify([])),this.fetchData();var e=setTimeout((function(){t.fetchData()}),6e4);this.$once("hook:beforeDestroy",(function(){clearInterval(e)}))},watch:{"$route.query.nr":function(){this.fetchData()}},methods:{songAdded:function(t){this.day.songs.unshift(t)},fetchData:function(){var t=this,e=window.parseFloat(this.$route.query.nr);e<1||e!==Math.floor(e)?this.$router.replace("/music-challenge/"):r.a.get("/day/".concat(e)).then((function(e){t.day=e.data})).catch((function(e){t.$router.replace("/music-challenge/")})).finally((function(){t.isLoading=!1}))}}},h=(n("Ztdy"),Object(s.a)(g,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isLoading?n("div",[t._v("\n  Loading...\n")]):n("div",[n("div",{staticClass:"title-wrap"},[n("h2",{staticClass:"title"},[t._v("Day "+t._s(t.day.day)+": "+t._s(t.day.theme))])]),t.day.isPast?n("div",{staticClass:"past"},[n("p",[t._v("This is a past daily challenge. Posting for this topic is closed, but browsing and interacting with the archive is possible.")])]):n("AddSong",{on:{songAdded:t.songAdded}}),t.day.songs.length>0?n("div",{staticClass:"songs"},t._l(t.day.songs,(function(t){return n("Song",{key:t.id,attrs:{song:t}})})),1):n("p",{staticClass:"no-songs"},[t.day.isPast?n("span",[t._v("Unfortunately, there are "),n("b",[t._v("no songs")]),t._v(" for day "+t._s(t.day.day)+".")]):n("span",[t._v("There are "),n("b",[t._v("no songs")]),t._v(" for day "+t._s(t.day.day)+" yet. Be the first one and send your song!")])]),n("div",{staticClass:"buttons"},[n("a",{staticClass:"music-challenge-btn navigate",class:{"music-challenge-btn--disabled":1===t.day.day},attrs:{href:t.prevLink}},[n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"}})]),t._v("\n      Previous day\n    ")]),n("router-link",{staticClass:"music-challenge-btn back",attrs:{to:"/music-challenge"}},[t._v("\n      Back to day list\n    ")]),n("a",{staticClass:"music-challenge-btn navigate",class:{"music-challenge-btn--disabled":!t.day.isNextDayAvailable},attrs:{href:t.nextLink}},[t._v("\n      Next day\n      "),n("svg",{staticClass:"icon",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"}},[n("path",{attrs:{d:"M7.33 24l-2.83-2.829 9.339-9.175-9.339-9.167 2.83-2.829 12.17 11.996z"}})])])],1)],1)}),[],!1,null,"c19d0da6",null));e.default=h.exports},O7CI:function(t,e,n){"use strict";n("3b75")},RDyj:function(t,e,n){"use strict"},Rm1S:function(t,e,n){"use strict";var i=n("14Sl"),s=n("glrk"),o=n("UMSQ"),r=n("HYAF"),a=n("iqWW"),c=n("FMNM");i("match",1,(function(t,e,n){return[function(e){var n=r(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,n):new RegExp(e)[t](String(n))},function(t){var i=n(e,t,this);if(i.done)return i.value;var r=s(t),l=String(this);if(!r.global)return c(r,l);var u=r.unicode;r.lastIndex=0;for(var d,f=[],m=0;null!==(d=c(r,l));){var p=String(d[0]);f[m]=p,""===p&&(r.lastIndex=a(l,o(r.lastIndex),u)),m++}return 0===m?null:f}]}))},ZmLK:function(t,e,n){},Ztdy:function(t,e,n){"use strict";n("l/jc")},"dG/n":function(t,e,n){var i=n("Qo9l"),s=n("UTVS"),o=n("5Tg+"),r=n("m/L8").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});s(e,t)||r(e,t,{value:o.f(t)})}},"f+rP":function(t,e,n){"use strict";n("GHwO")},fhKU:function(t,e,n){var i=n("2oRo"),s=n("WKiH").trim,o=n("WJkJ"),r=i.parseFloat,a=1/r(o+"-0")!=-1/0;t.exports=a?function(t){var e=s(String(t)),n=r(e);return 0===n&&"-"==e.charAt(0)?-0:n}:r},iYcz:function(t,e,n){"use strict";n("ZmLK")},"l/jc":function(t,e,n){},pNMO:function(t,e,n){"use strict";var i=n("I+eb"),s=n("2oRo"),o=n("0GbY"),r=n("xDBR"),a=n("g6v/"),c=n("STAE"),l=n("/b8u"),u=n("0Dky"),d=n("UTVS"),f=n("6LWA"),m=n("hh1v"),p=n("glrk"),g=n("ewvW"),h=n("/GqU"),v=n("wE6v"),y=n("XGwC"),b=n("fHMY"),w=n("33Wh"),k=n("JBy8"),S=n("BX/b"),_=n("dBg+"),C=n("Bs8V"),x=n("m/L8"),L=n("0eef"),N=n("kRJp"),O=n("busE"),$=n("VpIT"),I=n("93I0"),A=n("0BK2"),j=n("kOOl"),P=n("tiKp"),q=n("5Tg+"),B=n("dG/n"),J=n("1E5z"),T=n("afO8"),E=n("tycR").forEach,D=I("hidden"),R=P("toPrimitive"),U=T.set,Y=T.getterFor("Symbol"),M=Object.prototype,H=s.Symbol,W=o("JSON","stringify"),G=C.f,K=x.f,F=S.f,z=L.f,Z=$("symbols"),Q=$("op-symbols"),V=$("string-to-symbol-registry"),X=$("symbol-to-string-registry"),tt=$("wks"),et=s.QObject,nt=!et||!et.prototype||!et.prototype.findChild,it=a&&u((function(){return 7!=b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,n){var i=G(M,e);i&&delete M[e],K(t,e,n),i&&t!==M&&K(M,e,i)}:K,st=function(t,e){var n=Z[t]=b(H.prototype);return U(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},ot=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof H},rt=function(t,e,n){t===M&&rt(Q,e,n),p(t);var i=v(e,!0);return p(n),d(Z,i)?(n.enumerable?(d(t,D)&&t[D][i]&&(t[D][i]=!1),n=b(n,{enumerable:y(0,!1)})):(d(t,D)||K(t,D,y(1,{})),t[D][i]=!0),it(t,i,n)):K(t,i,n)},at=function(t,e){p(t);var n=h(e),i=w(n).concat(dt(n));return E(i,(function(e){a&&!ct.call(n,e)||rt(t,e,n[e])})),t},ct=function(t){var e=v(t,!0),n=z.call(this,e);return!(this===M&&d(Z,e)&&!d(Q,e))&&(!(n||!d(this,e)||!d(Z,e)||d(this,D)&&this[D][e])||n)},lt=function(t,e){var n=h(t),i=v(e,!0);if(n!==M||!d(Z,i)||d(Q,i)){var s=G(n,i);return!s||!d(Z,i)||d(n,D)&&n[D][i]||(s.enumerable=!0),s}},ut=function(t){var e=F(h(t)),n=[];return E(e,(function(t){d(Z,t)||d(A,t)||n.push(t)})),n},dt=function(t){var e=t===M,n=F(e?Q:h(t)),i=[];return E(n,(function(t){!d(Z,t)||e&&!d(M,t)||i.push(Z[t])})),i};(c||(O((H=function(){if(this instanceof H)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=j(t),n=function(t){this===M&&n.call(Q,t),d(this,D)&&d(this[D],e)&&(this[D][e]=!1),it(this,e,y(1,t))};return a&&nt&&it(M,e,{configurable:!0,set:n}),st(e,t)}).prototype,"toString",(function(){return Y(this).tag})),O(H,"withoutSetter",(function(t){return st(j(t),t)})),L.f=ct,x.f=rt,C.f=lt,k.f=S.f=ut,_.f=dt,q.f=function(t){return st(P(t),t)},a&&(K(H.prototype,"description",{configurable:!0,get:function(){return Y(this).description}}),r||O(M,"propertyIsEnumerable",ct,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:H}),E(w(tt),(function(t){B(t)})),i({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(d(V,e))return V[e];var n=H(e);return V[e]=n,X[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(X,t))return X[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(t,e){return void 0===e?b(t):at(b(t),e)},defineProperty:rt,defineProperties:at,getOwnPropertyDescriptor:lt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ut,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:u((function(){_.f(1)}))},{getOwnPropertySymbols:function(t){return _.f(g(t))}}),W)&&i({target:"JSON",stat:!0,forced:!c||u((function(){var t=H();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,n){for(var i,s=[t],o=1;arguments.length>o;)s.push(arguments[o++]);if(i=e,(m(e)||void 0!==t)&&!ot(t))return f(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!ot(e))return e}),s[1]=e,W.apply(null,s)}});H.prototype[R]||N(H.prototype,R,H.prototype.valueOf),J(H,"Symbol"),A[D]=!0},rNhl:function(t,e,n){var i=n("I+eb"),s=n("fhKU");i({global:!0,forced:parseFloat!=s},{parseFloat:s})},yq1k:function(t,e,n){"use strict";var i=n("I+eb"),s=n("TWQb").includes,o=n("RNIs");i({target:"Array",proto:!0},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);